
# vim编辑器
- vi：Visual Interface
- vim：Vi IMproved
- vim常用模式：
  - 编辑模式：命令模式
  - 输入模式
  - 末行模式：内置的命令行接口
- [vim 使用技巧](https://www.ibm.com/developerworks/cn/linux/l-cn-tip-vim/index.html)
- 关闭文件：q，推出；q!，强制退出，不保存；wq，保存退出；x，保存并推出；w，另存为。
- ![vim 键盘](https://github.com/Minions1128/net_tech_notes/blob/master/img/vim.JPG)

# 文件查找
实现工具：locate，find
- locate：依赖于事先构建好的索引库，其系统自动实现（周期性任务），或者手动更新数据库（updatedb）；
  - 工作特点：
    - 模糊查找文件
    - 查找速度快
    - 非实时查找
    - 建立索引需要遍历整个根文件系统，及其消耗系统资源
  - locate [OPTION]... PATTERN...
    - -b, --basename：指定只查找基名
    - -c, --count，统计找出来的个数
    - -r, --regexp REGEXP，匹配正则表达式
- find：实时查找工具，通过遍历指定起始路径下文件系统层级结构完成文件查找
  - 工作特点：
    - 查找速度略慢
    - 精确查找
    - 实时查找
  - `find [选项] [查找起始路径] [查找条件] [处理动作]`
    - 查找起始路径：默认为当前目录
    - 查找条件：文件名、大小、类型、从属关系、权限等；默认为所有文件
      - 根据文件名查找：支持glob风格的通配符查找：`*`，?，[]，[^]
        - -name：根据文件名查找
        - -iname：忽略文件名大小写。
      - 根据文件从属关系：
        - -user：根据属主查找
        - -group：根据属组查找
        - -uid：根据uid查找文件
        - -gid：根据gid查找文件
        - -nouser：查找没有属主的文件
        - -nogroup：查找没有属组的文件
      - 根据文件类型查找：-type TYPE
      - 根据文件大小查找：-size [+ | -]#UNIT
        - `find /tmp -size 172k`
        - 常用单位：k，M，G
        - #UNIT：(#-1, #]
        - -#UNIT：[0, #-1]
        - +#UNIT：(#, +oo]
      - 根据时间戳查找：-OP [+-]#
        - 计算方法：#：(now-#-1, now-#]，第#天；+#：(-oo, now-#-1]，#天外；-#：(now-#, now)，#天内
        - 以天为单位：-atime，-mtime，-ctime
        - 以分钟为单位：-amin，-mmin，-cmin
      - 根据权限查找：
        - `-perm [/|-] mode`：
          - mode：精确选线查找：`find ./ -perm 644`，精确查找权限为644的文件
          - /mode：任何一类用户(u,g,o)的任何一位(r,w,x)符合条件，即满足
          - -mode：任何一类用户(u,g,o)的任何一位(r,w,x)同时符合条件，即满足
      - 组合测试：
        - 与：-a，`find /tmp -user root -type f -ls`
        - 或：-o，`find /tmp -nouser -o -type f -ls`
        - 非：-not，!，`find /tmp {-not | !} -type f -ls`
        - 组合举例：`find /tmp -not  \( -user root -o -iname "*fstab*" \) -ls`
    - 处理动作：先查找文件，将查找到的文件路径一次性传递给命令
      - -print：显示到屏幕
      - -ls：将结果ls到屏幕
      - -delete：删除查找到的文件
      - -fls /PATH/FILE：将文件ls到屏幕，且保存到/PATH/FILE中
      - `-ok COMMAND {} \;`：对查找到的文件进行执行，COMMAND表示执行命令，每次需要确认
      - `-exec COMMAND {} \;`：对查找到的文件进行执行，COMMAND表示执行命令，不需要每次确认
      - find .... | xargs：将find到的内容传递给xargs
